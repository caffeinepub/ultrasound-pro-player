{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 31,
  "summary": "Ultra-premium music player web app with dark blue/gold theme, file picker, Web Audio API player with battery charging lock system, combined 20-band EQ + 20 instrument controls panel where each EQ band slider is directly linked to one instrument — turning up an EQ band simultaneously boosts that instrument's sound. Instruments displayed with clean names/icons below the EQ row. 4 sound engines and canvas spectrum visualizer.",
  "architectural_notes": [
    "Single self-contained HTML file with embedded CSS and JavaScript",
    "Web Audio API used for all audio processing (BiquadFilterNode chains for 20-band EQ)",
    "Music playback locked until battery animation reaches 100% charge",
    "4 sound engine presets apply different EQ gain curves in real-time",
    "Canvas-based spectrum visualizer using requestAnimationFrame",
    "Each of the 20 EQ band sliders is 1-to-1 linked to one instrument — moving a band slider boosts/cuts both the frequency band AND that instrument's gain simultaneously",
    "All app subsystems (Processor, Sound Engines, BT Speakers, Smart Chips, Visualizer, Sound Magnet) must be connected through the central audio pipeline — no subsystem should operate independently of the EQ/audio chain"
  ],
  "known_issues": [
    "Instrument names/gain sliders are crammed inside EQ columns and hard to read/use — needs clean separate instrument row below EQ",
    "EQ Stabilizer panel is too large — needs to be reshaped into 4 rows of 5 bands each to reduce height/size",
    "File picker window does not trigger audio playback — files can be selected but music does not play",
    "App appears non-functional to user — controls may be static/decorative with no working audio or interactivity",
    "Tapping a track in the playlist does not start audio playback — player remains in NO TRACK SELECTED state",
    "All 20 Smart Chips stuck on STANDBY regardless of audio state — not receiving audio signal"
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-implement-the-global-visual-theme-deep-dark-blue-gradient-background-060918-to-0d1440-primary-gold-yellow-accent-ffd700-electric-blue-secondary-00bfff-glassmorphism-panels-rgba-255-255-255-0-05-with-backdrop-blur-neon-glow-effects-in-yellow-and-blue-ultra-premium-bold-typography-white-and-yellow-text-app-title-bar-reads-ultrasound-pro-with-a-glowing-logo-treatment",
      "title": "Implement the global visual theme: deep dark blue gradient background (#060918 to #0d1440), primary gold/yellow accent (#FFD700), electric blue secondary (#00BFFF), glassmorphism panels (rgba(255,255,255,0.05) with backdrop-blur), neon glow effects in yellow and blue, ultra-premium bold typography (white and yellow text). App title bar reads 'ULTRASOUND PRO' with a glowing logo treatment.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-build-a-layout-with-four-regions-1-top-header-bar-with-the-app-title-and-sound-engine-selector-2-left-panel-for-file-picker-playlist-3-center-panel-for-player-controls-spectrum-visualizer-and-battery-system-4-bottom-panel-for-the-20-band-eq-followed-by-the-20-instrument-controls",
      "title": "Build a layout with four regions: (1) Top header bar with the app title and sound engine selector; (2) Left panel for file picker/playlist; (3) Center panel for player controls, spectrum visualizer, and battery system; (4) Bottom panel for the 20-band EQ followed by the 20 instrument controls.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-file-picker-modal-window-with-drag-and-drop-support-accepted-formats-mp3-wav-flac-ogg-aac-the-drop-zone-glows-yellow-on-hover-drag-over-after-files-are-selected-display-a-playlist-list-showing-song-name-duration-and-format-badge-clicking-a-song-in-the-list-loads-it-into-the-player",
      "title": "Implement a file picker modal/window with drag-and-drop support. Accepted formats: MP3, WAV, FLAC, OGG, AAC. The drop zone glows yellow on hover/drag-over. After files are selected, display a playlist list showing song name, duration, and format badge. Clicking a song in the list loads it into the player.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-build-the-music-player-controls-play-pause-stop-next-previous-buttons-and-a-seek-bar-display-the-song-title-artist-parsed-from-file-metadata-or-filename-and-an-album-art-placeholder-all-player-controls-are-disabled-and-visually-locked-until-the-battery-reaches-100",
      "title": "Build the music player controls: Play, Pause, Stop, Next, Previous buttons and a seek bar. Display the song title, artist (parsed from file metadata or filename), and an album art placeholder. All player controls are disabled and visually locked until the battery reaches 100%.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-the-animated-battery-charging-system-show-a-large-battery-widget-with-labeled-capacity-of-80-000w-a-200-000w-charger-animates-with-lightning-bolt-and-electric-arc-svg-css-animations-battery-fill-rises-from-0-to-100-with-a-glowing-yellow-fill-animation-a-real-time-counter-displays-charging-x-w-200-000w-battery-percentage-is-displayed-in-large-text-while-charging-show-charging-music-locked-at-100-trigger-a-dramatic-unlock-animation-and-display-fully-charged-music-unlocked-battery-level-maps-to-an-output-power-x-watts-readout",
      "title": "Implement the animated battery charging system. Show a large battery widget with labeled capacity of 80,000W. A 200,000W charger animates with lightning bolt and electric arc SVG/CSS animations. Battery fill rises from 0% to 100% with a glowing yellow fill animation. A real-time counter displays 'Charging: X W / 200,000W'. Battery percentage is displayed in large text. While charging, show 'CHARGING… Music Locked'. At 100%, trigger a dramatic unlock animation and display 'FULLY CHARGED — Music Unlocked!'. Battery level maps to an 'Output Power: X watts' readout.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-4-option-sound-engine-selector-in-the-header-crystal-engine-deep-bass-engine-surround-engine-pure-hd-engine-each-preset-applies-a-distinct-web-audio-api-filter-chain-configuration-switching-engines-updates-the-audio-processing-in-real-time-with-no-audible-glitch",
      "title": "Implement a 4-option sound engine selector in the header: 'Crystal Engine', 'Deep Bass Engine', 'Surround Engine', 'Pure HD Engine'. Each preset applies a distinct Web Audio API filter chain configuration. Switching engines updates the audio processing in real time with no audible glitch.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-20-band-equalizer-using-20-web-audio-api-biquadfilternodes-in-series-at-these-frequencies-20hz-40hz-80hz-160hz-250hz-500hz-1khz-2khz-4khz-8khz-16khz-and-9-additional-bands-spread-across-the-spectrum-to-total-20-each-band-has-a-vertical-slider-showing-12db-gain-moving-a-slider-instantly-updates-the-corresponding-biquadfilternode-gain-when-an-eq-band-is-adjusted-any-instrument-controls-linked-to-that-frequency-range-are-highlighted-visually",
      "title": "Implement a 20-band equalizer using 20 Web Audio API BiquadFilterNodes in series at these frequencies: 20Hz, 40Hz, 80Hz, 160Hz, 250Hz, 500Hz, 1kHz, 2kHz, 4kHz, 8kHz, 16kHz, and 9 additional bands spread across the spectrum to total 20. Each band has a vertical slider showing ±12dB gain. Moving a slider instantly updates the corresponding BiquadFilterNode gain. When an EQ band is adjusted, any instrument controls linked to that frequency range are highlighted visually.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-render-20-instrument-sliders-below-the-eq-section-for-bass-guitar-kick-drum-snare-hi-hat-piano-violin-cello-trumpet-saxophone-flute-acoustic-guitar-electric-guitar-synthesizer-organ-choir-vocals-strings-percussion-sub-bass-cymbals-harmonica-each-instrument-slider-boosts-cuts-its-characteristic-eq-frequency-bands-simultaneously-moving-an-instrument-slider-visually-updates-the-linked-eq-band-sliders-in-real-time",
      "title": "Render 20 instrument sliders below the EQ section for: Bass Guitar, Kick Drum, Snare, Hi-Hat, Piano, Violin, Cello, Trumpet, Saxophone, Flute, Acoustic Guitar, Electric Guitar, Synthesizer, Organ, Choir/Vocals, Strings, Percussion, Sub Bass, Cymbals, Harmonica. Each instrument slider boosts/cuts its characteristic EQ frequency bands simultaneously. Moving an instrument slider visually updates the linked EQ band sliders in real time.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-render-a-real-time-canvas-based-frequency-spectrum-visualizer-in-the-center-panel-it-reads-from-the-web-audio-api-analysernode-and-draws-a-live-frequency-spectrum-in-yellow-ffd700-using-requestanimationframe-the-visualizer-is-always-active-when-audio-is-playing",
      "title": "Render a real-time canvas-based frequency spectrum visualizer in the center panel. It reads from the Web Audio API AnalyserNode and draws a live frequency spectrum in yellow (#FFD700) using requestAnimationFrame. The visualizer is always active when audio is playing.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-the-full-web-audio-api-audio-engine-audiocontext-with-source-node-20-biquadfilternodes-in-series-gainnode-analysernode-destination-sound-engine-presets-reconfigure-filter-parameters-all-eq-and-instrument-changes-are-debounced-5-10ms-to-prevent-audio-clicks-pops-provide-a-graceful-fallback-message-if-web-audio-api-is-not-available-in-the-browser",
      "title": "Implement the full Web Audio API audio engine: AudioContext with source node → 20 BiquadFilterNodes in series → GainNode → AnalyserNode → destination. Sound engine presets reconfigure filter parameters. All EQ and instrument changes are debounced (5–10ms) to prevent audio clicks/pops. Provide a graceful fallback message if Web Audio API is not available in the browser.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-add-react-error-boundaries-around-every-major-section-file-picker-player-battery-eq-instrument-panel-visualizer-on-error-each-boundary-displays-a-styled-fallback-ui-with-a-retry-button-that-resets-the-component-state-and-attempts-re-render",
      "title": "Add React error boundaries around every major section (file picker, player, battery, EQ, instrument panel, visualizer). On error, each boundary displays a styled fallback UI with a 'Retry' button that resets the component state and attempts re-render.",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-merge-the-20-instrument-sliders-directly-inside-the-20-band-eq-panel-so-they-form-a-single-unified-equalizer-stabilizer-control-section-each-eq-frequency-band-column-should-display-its-vertical-gain-slider-at-the-top-and-its-associated-instrument-control-s-embedded-below-it-within-the-same-column-instrument-emoji-name-label-and-instrument-gain-slider-all-rendered-inside-the-eq-band-column-remove-the-separate-instrumentcontrols-section-from-the-bottom-panel-the-combined-panel-is-titled-eq-stabilizer-full-system-control-bidirectional-linking-remains-moving-an-instrument-slider-updates-its-linked-eq-band-sliders-in-real-time-and-moving-an-eq-band-slider-highlights-its-linked-instrument-controls",
      "title": "Merge the 20 instrument sliders directly inside the 20-band EQ panel so they form a single unified 'Equalizer Stabilizer' control section. Each EQ frequency band column should display its vertical gain slider at the top and its associated instrument control(s) embedded below it within the same column — instrument emoji, name label, and instrument gain slider all rendered inside the EQ band column. Remove the separate InstrumentControls section from the bottom panel. The combined panel is titled 'EQ STABILIZER — Full System Control'. Bidirectional linking remains: moving an instrument slider updates its linked EQ band sliders in real time, and moving an EQ band slider highlights its linked instrument controls.",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-redesign-the-eqstabilizer-panel-layout-to-match-the-reference-screenshot-second-uploaded-image-render-the-20-eq-band-columns-horizontally-in-a-grid-where-each-column-contains-a-vertical-gain-slider-at-the-top-the-frequency-label-at-the-bottom-and-the-instrument-emoji-short-name-label-instrument-gain-slider-embedded-below-the-eq-slider-all-within-the-same-column-card-the-panel-must-scroll-horizontally-so-all-20-bands-are-accessible-each-column-card-uses-the-dark-glassmorphism-style-with-a-visible-vertical-slider-track",
      "title": "Redesign the EQStabilizer panel layout to match the reference screenshot (second uploaded image): render the 20 EQ band columns horizontally in a grid where each column contains a vertical gain slider at the top, the frequency label at the bottom, and the instrument emoji + short name label + instrument gain slider embedded below the EQ slider — all within the same column card. The panel must scroll horizontally so all 20 bands are accessible. Each column card uses the dark glassmorphism style with a visible vertical slider track.",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-legend-boost-cut-indicator-bar-above-the-eq-stabilizer-panel-showing-a-yellow-dot-for-boost-a-blue-dot-for-cut-and-a-grey-dot-for-0-db-center-matching-the-reference-screenshot-style",
      "title": "Add a legend/boost-cut indicator bar above the EQ Stabilizer panel showing: a yellow dot for 'Boost ↑', a blue dot for 'Cut ↓', and a grey dot for '0 dB center', matching the reference screenshot style.",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-footer-attribution-line-at-the-bottom-of-the-eq-stabilizer-panel-reading-designed-by-app-name-20-band-instrument-eq-connected-to-audio-chain-in-small-muted-uppercase-text-matching-the-reference-screenshot",
      "title": "Add a footer attribution line at the bottom of the EQ Stabilizer panel reading 'DESIGNED BY [APP NAME] · 20-BAND INSTRUMENT EQ · CONNECTED TO AUDIO CHAIN' in small muted uppercase text, matching the reference screenshot.",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    },
    {
      "id": "feature-replace-the-plain-text-emoji-used-for-each-instrument-inside-the-eq-stabilizer-band-columns-with-small-illustrated-instrument-icons-rendered-as-inline-svg-or-canvas-drawn-illustrations-that-visually-match-the-style-of-the-reference-image-colorful-cartoon-style-instrument-drawings-each-of-the-20-eq-band-column-cards-must-display-a-distinct-instrument-illustration-accordion-harmonica-harp-acoustic-guitar-electric-guitar-mandolin-banjo-tambourine-keyboard-maracas-conga-bagpipes-bongo-drums-sitar-cymbals-saxophone-violin-viola-cello-trumpet-trombone-french-horn-tuba-mapped-to-the-20-instrument-slots-already-defined-in-instruments-array-instrumentmappings-ts-the-illustrations-must-be-small-enough-to-fit-within-the-column-card-max-48-48px-display-size-and-maintain-the-dark-glassmorphism-card-style-the-instrument-name-label-below-the-icon-must-remain-visible",
      "title": "Replace the plain text emoji used for each instrument inside the EQ Stabilizer band columns with small illustrated instrument icons rendered as inline SVG or canvas-drawn illustrations that visually match the style of the reference image (colorful, cartoon-style instrument drawings). Each of the 20 EQ band column cards must display a distinct instrument illustration — Accordion/Harmonica, Harp, Acoustic Guitar, Electric Guitar, Mandolin, Banjo, Tambourine, Keyboard, Maracas, Conga, Bagpipes, Bongo Drums, Sitar, Cymbals, Saxophone, Violin, Viola, Cello, Trumpet/Trombone, French Horn/Tuba — mapped to the 20 instrument slots already defined in INSTRUMENTS array (instrumentMappings.ts). The illustrations must be small enough to fit within the column card (max ~48×48px display size) and maintain the dark glassmorphism card style. The instrument name label below the icon must remain visible.",
      "reqIds": [
        "REQ-16"
      ],
      "version": 1
    },
    {
      "id": "feature-redesign-the-eq-stabilizer-panel-so-that-each-of-the-20-eq-band-column-cards-displays-1-a-vertical-eq-gain-slider-at-the-top-of-the-card-2-the-illustrated-instrument-icon-colorful-cartoon-style-svg-matching-the-reference-image-instruments-accordion-harp-acoustic-guitar-electric-guitar-mandolin-banjo-tambourine-keyboard-maracas-conga-bagpipes-bongo-drums-sitar-cymbals-saxophone-violin-viola-cello-trumpet-trombone-french-horn-tuba-centered-and-clearly-visible-below-the-eq-slider-3-the-instrument-short-name-label-in-clean-readable-text-below-the-icon-4-the-instrument-gain-turnup-slider-rendered-clearly-and-accessibly-below-the-name-label-all-within-the-same-glassmorphism-column-card-the-instrument-name-and-its-gain-slider-must-not-be-cramped-or-buried-they-must-be-legibly-sized-and-easy-to-interact-with-on-mobile",
      "title": "Redesign the EQ Stabilizer panel so that each of the 20 EQ band column cards displays: (1) a vertical EQ gain slider at the top of the card, (2) the illustrated instrument icon (colorful cartoon-style SVG matching the reference image instruments: Accordion, Harp, Acoustic Guitar, Electric Guitar, Mandolin, Banjo, Tambourine, Keyboard, Maracas, Conga, Bagpipes, Bongo Drums, Sitar, Cymbals, Saxophone, Violin, Viola, Cello, Trumpet/Trombone, French Horn/Tuba) centered and clearly visible below the EQ slider, (3) the instrument short name label in clean readable text below the icon, (4) the instrument gain (turnup) slider rendered clearly and accessibly below the name label — all within the same glassmorphism column card. The instrument name and its gain slider must NOT be cramped or buried; they must be legibly sized and easy to interact with on mobile.",
      "reqIds": [
        "REQ-17"
      ],
      "version": 1
    },
    {
      "id": "feature-restructure-the-eq-stabilizer-panel-into-two-clearly-separated-horizontal-rows-1-the-top-row-displays-all-20-eq-band-columns-each-containing-only-the-vertical-gain-slider-and-the-frequency-label-no-instrument-content-inside-these-columns-2-directly-below-the-eq-row-render-a-dedicated-instrument-controls-row-with-20-instrument-cards-aligned-to-their-corresponding-eq-band-columns-each-instrument-card-displays-the-illustrated-svg-instrument-icon-the-instrument-short-name-in-legible-text-and-a-horizontal-or-vertical-instrument-gain-slider-that-is-large-enough-to-interact-with-comfortably-on-mobile-min-44px-touch-target-the-two-rows-must-be-visually-connected-same-horizontal-scroll-container-same-column-widths-so-each-instrument-card-sits-directly-beneath-its-linked-eq-band-bidirectional-linking-is-preserved-adjusting-an-instrument-gain-slider-updates-its-linked-eq-band-gains-in-real-time-and-adjusting-an-eq-band-slider-highlights-its-linked-instrument-card",
      "title": "Restructure the EQ Stabilizer panel into two clearly separated horizontal rows: (1) The top row displays all 20 EQ band columns, each containing only the vertical gain slider and the frequency label — no instrument content inside these columns. (2) Directly below the EQ row, render a dedicated Instrument Controls row with 20 instrument cards aligned to their corresponding EQ band columns. Each instrument card displays the illustrated SVG instrument icon, the instrument short name in legible text, and a horizontal or vertical instrument gain slider that is large enough to interact with comfortably on mobile (min 44px touch target). The two rows must be visually connected (same horizontal scroll container, same column widths) so each instrument card sits directly beneath its linked EQ band. Bidirectional linking is preserved: adjusting an instrument gain slider updates its linked EQ band gains in real time, and adjusting an EQ band slider highlights its linked instrument card.",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    },
    {
      "id": "feature-redesign-the-eq-stabilizer-so-that-each-of-the-20-eq-band-sliders-is-exclusively-and-directly-linked-to-exactly-one-instrument-one-band-one-instrument-no-sharing-the-20-instruments-must-be-remapped-so-each-eq-frequency-band-owns-one-instrument-from-this-list-matching-the-reference-image-accordion-harp-acoustic-guitar-electric-guitar-mandolin-banjo-tambourine-keyboard-maracas-conga-bagpipes-bongo-drums-sitar-cymbals-saxophone-violin-viola-cello-trombone-french-horn-one-per-band-in-order-from-lowest-to-highest-frequency-update-instrumentmappings-ts-so-each-instrument-maps-to-exactly-one-eq-band-index-no-overlapping-bands-across-instruments",
      "title": "Redesign the EQ Stabilizer so that each of the 20 EQ band sliders is exclusively and directly linked to exactly one instrument — one band = one instrument, no sharing. The 20 instruments must be remapped so each EQ frequency band owns one instrument from this list (matching the reference image): Accordion, Harp, Acoustic Guitar, Electric Guitar, Mandolin, Banjo, Tambourine, Keyboard, Maracas, Conga, Bagpipes, Bongo Drums, Sitar, Cymbals, Saxophone, Violin, Viola, Cello, Trombone, French Horn — one per band, in order from lowest to highest frequency. Update `instrumentMappings.ts` so each instrument maps to exactly one EQ band index (no overlapping bands across instruments).",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    },
    {
      "id": "feature-display-the-instrument-name-and-its-illustrated-svg-icon-colorful-cartoon-style-matching-the-reference-image-cleanly-below-each-eq-band-column-one-instrument-name-icon-per-column-horizontally-readable-not-rotated-and-clearly-associated-with-its-eq-slider-the-instrument-row-must-sit-in-a-clearly-separated-area-directly-beneath-the-eq-slider-row-within-the-same-horizontal-scroll-container-with-column-widths-aligned-so-each-instrument-card-sits-directly-under-its-eq-band-instrument-gain-slider-must-be-large-enough-to-interact-with-on-mobile-min-44px-touch-target",
      "title": "Display the instrument name and its illustrated SVG icon (colorful cartoon-style matching the reference image) cleanly below each EQ band column — one instrument name/icon per column, horizontally readable (not rotated), and clearly associated with its EQ slider. The instrument row must sit in a clearly separated area directly beneath the EQ slider row within the same horizontal scroll container, with column widths aligned so each instrument card sits directly under its EQ band. Instrument gain slider must be large enough to interact with on mobile (min 44px touch target).",
      "reqIds": [
        "REQ-20"
      ],
      "version": 1
    },
    {
      "id": "feature-wire-the-audio-engine-so-that-when-an-eq-band-slider-is-moved-the-web-audio-api-biquadfilternode-gain-for-that-band-is-updated-and-the-master-gain-contribution-for-the-exclusively-linked-instrument-is-also-boosted-or-cut-proportionally-when-an-instrument-gain-slider-is-moved-both-the-instrument-s-contribution-and-its-linked-biquadfilternode-gain-are-updated-this-must-be-audibly-perceptible-turning-up-band-1-20hz-must-make-the-accordion-louder-in-the-mix-turning-it-down-must-reduce-it",
      "title": "Wire the audio engine so that when an EQ band slider is moved, the Web Audio API BiquadFilterNode gain for that band is updated AND the master gain contribution for the exclusively linked instrument is also boosted or cut proportionally. When an instrument gain slider is moved, both the instrument's contribution AND its linked BiquadFilterNode gain are updated. This must be audibly perceptible — turning up band 1 (20Hz) must make the Accordion louder in the mix, turning it down must reduce it.",
      "reqIds": [
        "REQ-21"
      ],
      "version": 1
    },
    {
      "id": "feature-reshape-the-eq-stabilizer-panel-in-eqstabilizer-tsx-so-that-the-20-eq-band-columns-are-arranged-in-4-rows-of-5-columns-each-bands-1-5-6-10-11-15-16-20-from-top-to-bottom-replacing-the-current-single-horizontally-scrolling-row-each-column-card-retains-its-vertical-eq-gain-slider-and-frequency-label-the-panel-must-no-longer-require-horizontal-scrolling-all-20-bands-must-be-visible-within-the-panel-s-vertical-layout-the-overall-panel-height-and-width-must-be-compact-enough-to-fit-comfortably-on-screen-without-being-oversized",
      "title": "Reshape the EQ Stabilizer panel in EQStabilizer.tsx so that the 20 EQ band columns are arranged in 4 rows of 5 columns each (bands 1–5, 6–10, 11–15, 16–20 from top to bottom), replacing the current single horizontally-scrolling row. Each column card retains its vertical EQ gain slider and frequency label. The panel must no longer require horizontal scrolling — all 20 bands must be visible within the panel's vertical layout. The overall panel height and width must be compact enough to fit comfortably on screen without being oversized.",
      "reqIds": [
        "REQ-22"
      ],
      "version": 1
    },
    {
      "id": "feature-align-the-instrument-cards-row-beneath-the-eq-grid-to-also-use-a-4-rows-of-5-layout-matching-the-eq-band-grid-exactly-each-instrument-card-sits-visually-below-its-corresponding-eq-band-column-grouped-in-the-same-4-5-arrangement-the-instrument-cards-svg-icon-name-label-gain-slider-with-min-44px-touch-target-must-remain-readable-and-interactable-within-this-compact-layout",
      "title": "Align the instrument cards row beneath the EQ grid to also use a 4-rows-of-5 layout, matching the EQ band grid exactly — each instrument card sits visually below its corresponding EQ band column, grouped in the same 4×5 arrangement. The instrument cards (SVG icon, name label, gain slider with min 44px touch target) must remain readable and interactable within this compact layout.",
      "reqIds": [
        "REQ-23"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-audio-playback-pipeline-so-that-when-a-user-selects-audio-files-via-the-file-picker-drag-and-drop-or-browse-and-clicks-a-track-in-the-playlist-the-audio-actually-plays-the-issue-is-that-files-can-be-selected-and-appear-in-the-playlist-but-clicking-play-or-selecting-a-track-does-not-produce-any-sound-ensure-the-object-url-created-from-the-selected-file-is-correctly-assigned-to-the-htmlaudioelement-src-the-audiocontext-is-resumed-it-may-be-in-suspended-state-due-to-browser-autoplay-policy-the-source-node-is-connected-to-the-audio-engine-filter-chain-and-the-play-promise-is-awaited-and-any-rejection-is-caught-and-logged",
      "title": "Fix the audio playback pipeline so that when a user selects audio files via the file picker (drag-and-drop or browse) and clicks a track in the playlist, the audio actually plays. The issue is that files can be selected and appear in the playlist but clicking Play or selecting a track does not produce any sound. Ensure the object URL created from the selected File is correctly assigned to the HTMLAudioElement src, the AudioContext is resumed (it may be in 'suspended' state due to browser autoplay policy), the source node is connected to the audio engine filter chain, and the play() promise is awaited and any rejection is caught and logged.",
      "reqIds": [
        "REQ-24"
      ],
      "version": 1
    },
    {
      "id": "feature-audit-and-fix-the-integration-between-useaudiofiles-ts-useaudioplayer-ts-and-useaudioengine-ts-in-app-tsx-to-ensure-the-full-data-flow-works-end-to-end-1-file-selection-object-url-creation-in-useaudiofiles-2-track-selection-src-assignment-on-the-htmlaudioelement-in-useaudioplayer-3-audiocontext-initialization-and-source-node-connection-in-useaudioengine-when-a-new-track-is-loaded-4-play-invocation-after-the-source-is-connected-fix-any-missing-wiring-incorrect-hook-dependency-or-race-condition-that-prevents-playback-from-starting",
      "title": "Audit and fix the integration between useAudioFiles.ts, useAudioPlayer.ts, and useAudioEngine.ts in App.tsx to ensure the full data flow works end-to-end: (1) file selection → object URL creation in useAudioFiles, (2) track selection → src assignment on the HTMLAudioElement in useAudioPlayer, (3) AudioContext initialization and source node connection in useAudioEngine when a new track is loaded, (4) play() invocation after the source is connected. Fix any missing wiring, incorrect hook dependency, or race condition that prevents playback from starting.",
      "reqIds": [
        "REQ-25"
      ],
      "version": 1
    },
    {
      "id": "feature-build-a-bluetooth-speaker-display-panel-that-shows-2-3-animated-bluetooth-speaker-illustrations-on-screen-the-panel-displays-live-output-data-routed-through-the-app-s-current-audio-settings-output-power-in-watts-and-db-level-being-sent-to-the-speaker-updated-in-real-time-from-the-web-audio-api-analyser-gain-node-each-speaker-illustration-renders-an-animated-speaker-cone-that-pulses-and-moves-in-sync-with-the-music-scale-or-displacement-driven-by-the-current-audio-amplitude-the-panel-is-titled-bluetooth-speaker-output-and-uses-the-existing-dark-glassmorphism-card-style-with-gold-blue-glow-accents",
      "title": "Build a Bluetooth Speaker Display panel that shows 2–3 animated Bluetooth speaker illustrations on screen. The panel displays live output data routed through the app's current audio settings: output power in watts and dB level being sent to the speaker, updated in real time from the Web Audio API analyser/gain node. Each speaker illustration renders an animated speaker cone that pulses and moves in sync with the music (scale or displacement driven by the current audio amplitude). The panel is titled 'BLUETOOTH SPEAKER OUTPUT' and uses the existing dark glassmorphism card style with gold/blue glow accents.",
      "reqIds": [
        "REQ-26"
      ],
      "version": 1
    },
    {
      "id": "feature-build-a-dedicated-processor-page-or-expandable-panel-in-the-app-titled-number-1-processor-in-the-whole-world-at-the-top-display-the-four-custom-processor-classes-class-a-class-b-class-c-class-d-labeled-more-super-clean-sound-control-not-your-standard-regular-classes-below-the-header-render-the-full-processor-spec-as-a-styled-info-display-1-20-smart-chips-each-with-its-own-built-in-control-monitor-showing-individual-status-indicators-for-boost-effect-lagging-clipping-stuttering-and-zero-background-noise-2-80hz-deep-low-manager-controlled-by-the-smart-chip-stabilizer-3-smart-chip-stabilizer-range-display-80-000-90-000-4-intelligent-amp-status-does-not-limit-music-it-corrects-it-it-is-a-stabilizer-5-full-stabilizer-power-super-amp-control-super-modes-for-everything-6-automatic-frequency-control-adjusted-to-all-songs-show-a-live-animated-indicator-that-responds-to-the-currently-playing-track-s-frequency-content-via-the-analysernode-7-special-daw-vst-generator-with-big-grant-fpga-cpu-booster-signal-stimulation-8-spec-readout-12-volt-best-processor-world-20-core-30-thunders-wide-9-mix-with-the-battery-already-located-in-the-system-display-the-current-battery-charge-level-from-the-existing-usebatterycharging-hook-all-elements-use-the-dark-glassmorphism-card-style-with-gold-blue-glow",
      "title": "Build a dedicated Processor page (or expandable panel) in the app titled 'NUMBER 1 PROCESSOR IN THE WHOLE WORLD'. At the top, display the four custom processor classes: Class A+ / Class B / Class C+ / Class D — labeled 'More Super Clean Sound Control — Not Your Standard Regular Classes'. Below the header, render the full processor spec as a styled info display: (1) 20 Smart Chips — each with its own Built-in Control Monitor showing individual status indicators for Boost, Effect, Lagging, Clipping, Stuttering, and Zero Background Noise; (2) 80Hz Deep Low Manager — controlled by the Smart Chip Stabilizer; (3) Smart Chip Stabilizer range display: 80,000–90,000; (4) Intelligent Amp status — 'Does NOT Limit Music — It CORRECTS It — It Is A Stabilizer'; (5) Full Stabilizer Power — Super Amp Control — Super Modes for Everything; (6) Automatic Frequency Control — Adjusted to All Songs (show a live animated indicator that responds to the currently playing track's frequency content via the AnalyserNode); (7) Special DAW VST Generator — with Big Grant FPGA, CPU Booster, Signal Stimulation; (8) Spec readout: 12 Volt — Best Processor World — 20 Core — 30 Thunders Wide; (9) 'Mix with the Battery already located in the System' — display the current battery charge level from the existing useBatteryCharging hook. All elements use the dark glassmorphism card style with gold/blue glow.",
      "reqIds": [
        "REQ-27"
      ],
      "version": 1
    },
    {
      "id": "feature-build-a-sound-magnet-stimulation-virtual-music-magnifier-feature-render-a-large-animated-circular-radial-field-visualization-in-the-center-panel-or-as-an-overlay-that-grows-in-size-as-the-audio-volume-amplitude-increases-simulating-the-sound-filling-the-room-the-magnet-field-must-be-visually-much-larger-than-a-speaker-it-represents-the-room-being-filled-the-field-animation-uses-concentric-glowing-rings-or-a-pulsing-radial-gradient-in-gold-yellow-that-expand-outward-with-volume-the-feature-has-a-clearly-visible-on-off-toggle-switch-labeled-sound-magnet-when-off-the-animation-is-hidden-this-feature-is-designed-for-small-speakers-e-g-any-small-bluetooth-speaker-to-make-the-audio-feel-larger-than-the-physical-speaker-the-amplitude-data-is-read-from-the-existing-web-audio-api-analysernode",
      "title": "Build a 'Sound Magnet — Stimulation Virtual Music Magnifier' feature. Render a large animated circular/radial field visualization in the center panel (or as an overlay) that grows in size as the audio volume/amplitude increases, simulating the sound filling the room. The magnet field must be visually much larger than a speaker — it represents the room being filled. The field animation uses concentric glowing rings or a pulsing radial gradient in gold/yellow that expand outward with volume. The feature has a clearly visible ON/OFF toggle switch labeled 'SOUND MAGNET'. When OFF, the animation is hidden. This feature is designed for small speakers (e.g. any small Bluetooth speaker) to make the audio feel larger than the physical speaker. The amplitude data is read from the existing Web Audio API AnalyserNode.",
      "reqIds": [
        "REQ-28"
      ],
      "version": 1
    },
    {
      "id": "feature-upgrade-the-processor-page-header-to-display-high-top-9-0-as-a-prominent-badge-above-the-existing-processor-class-labels-rename-the-four-processor-classes-to-class-a-class-b-class-c-class-d-all-with-plus-suffixes-and-update-their-descriptor-to-self-fixing-prototype-system-auto-detects-corrects-audio-problems-in-real-time-display-this-upgrade-tier-badge-with-a-gold-neon-glow-treatment-consistent-with-the-existing-dark-glassmorphism-style",
      "title": "Upgrade the Processor page header to display 'HIGH TOP 9.0' as a prominent badge above the existing processor class labels. Rename the four processor classes to Class A+ / Class B+ / Class C+ / Class D+ (all with plus suffixes) and update their descriptor to 'Self-Fixing Prototype System — Auto-Detects & Corrects Audio Problems in Real Time'. Display this upgrade tier badge with a gold neon glow treatment consistent with the existing dark glassmorphism style.",
      "reqIds": [
        "REQ-39"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-self-fixing-audio-diagnostics-system-inside-the-processor-page-add-a-real-time-auto-fix-monitor-panel-that-continuously-reads-from-the-web-audio-api-analysernode-and-automatically-detects-and-visually-flags-the-following-issues-clipping-signal-exceeds-0-dbfs-stuttering-playback-interruptions-excessive-low-frequency-buildup-and-background-noise-floor-when-an-issue-is-detected-the-corresponding-smart-chip-status-indicator-animates-to-fixing-and-then-fixed-simulating-the-self-correcting-prototype-behavior-apply-a-soft-gain-reduction-correction-via-the-existing-gainnode-when-clipping-is-detected",
      "title": "Implement a self-fixing audio diagnostics system inside the Processor page. Add a real-time 'Auto-Fix Monitor' panel that continuously reads from the Web Audio API AnalyserNode and automatically detects and visually flags the following issues: clipping (signal exceeds 0 dBFS), stuttering (playback interruptions), excessive low-frequency buildup, and background noise floor. When an issue is detected, the corresponding Smart Chip status indicator animates to 'FIXING…' and then 'FIXED ✓', simulating the self-correcting prototype behavior. Apply a soft gain reduction correction via the existing GainNode when clipping is detected.",
      "reqIds": [
        "REQ-40"
      ],
      "version": 1
    },
    {
      "id": "feature-perform-a-comprehensive-end-to-end-fix-of-the-file-picker-window-and-audio-player-to-achieve-100-reliable-file-loading-and-playback-specifically-1-rewrite-the-filepicker-component-so-that-both-drag-and-drop-and-the-browse-button-correctly-pass-selected-file-objects-to-useaudiofiles-2-ensure-useaudiofiles-creates-a-valid-object-url-url-createobjecturl-for-each-file-and-stores-it-on-the-track-3-ensure-useaudioplayer-sets-the-htmlaudioelement-src-to-the-track-s-object-url-synchronously-when-a-track-is-selected-then-calls-audiocontext-resume-before-calling-play-4-ensure-useaudioengine-connects-the-mediaelementsourcenode-to-the-filter-chain-on-every-new-track-load-guarding-against-duplicate-connections-5-wrap-the-play-call-in-a-try-catch-and-display-a-visible-error-toast-with-the-reason-if-playback-fails-6-add-a-console-diagnostic-log-at-each-step-url-created-src-set-context-resumed-node-connected-play-called-to-aid-debugging",
      "title": "Perform a comprehensive end-to-end fix of the file picker window and audio player to achieve 100% reliable file loading and playback. Specifically: (1) Rewrite the FilePicker component so that both drag-and-drop and the Browse button correctly pass selected File objects to useAudioFiles; (2) Ensure useAudioFiles creates a valid object URL (URL.createObjectURL) for each file and stores it on the track; (3) Ensure useAudioPlayer sets the HTMLAudioElement.src to the track's object URL synchronously when a track is selected, then calls audioContext.resume() before calling play(); (4) Ensure useAudioEngine connects the MediaElementSourceNode to the filter chain on every new track load, guarding against duplicate connections; (5) Wrap the play() call in a try/catch and display a visible error toast with the reason if playback fails; (6) Add a console diagnostic log at each step (URL created, src set, context resumed, node connected, play called) to aid debugging.",
      "reqIds": [
        "REQ-41"
      ],
      "version": 1
    },
    {
      "id": "feature-add-direct-url-streaming-support-to-the-file-picker-and-player-add-a-stream-url-input-field-inside-the-filepicker-component-a-text-input-and-add-stream-button-where-users-can-paste-a-direct-audio-stream-url-e-g-a-direct-mp3-ogg-or-radio-stream-url-when-submitted-the-url-is-added-to-the-playlist-as-a-track-entry-using-the-url-as-the-src-directly-on-the-htmlaudioelement-instead-of-an-object-url-the-track-displays-the-url-hostname-as-its-title-and-a-stream-format-badge-playback-behavior-play-pause-stop-seek-works-the-same-as-for-local-files-this-makes-the-app-relevant-to-younger-users-who-stream-audio-from-direct-links",
      "title": "Add direct URL streaming support to the file picker and player. Add a 'Stream URL' input field inside the FilePicker component — a text input and 'Add Stream' button — where users can paste a direct audio stream URL (e.g. a direct .mp3, .ogg, or radio stream URL). When submitted, the URL is added to the playlist as a track entry (using the URL as the src directly on the HTMLAudioElement instead of an object URL). The track displays the URL hostname as its title and a 'STREAM' format badge. Playback behavior (play, pause, stop, seek) works the same as for local files. This makes the app relevant to younger users who stream audio from direct links.",
      "reqIds": [
        "REQ-42"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-new-project-that-is-a-complete-faithful-copy-of-the-entire-current-ultrasound-pro-application-carrying-over-every-single-feature-component-hook-utility-style-and-configuration-without-omitting-anything-the-new-project-must-be-functionally-and-visually-identical-to-the-current-one",
      "title": "Create a new project that is a complete, faithful copy of the entire current UltraSound Pro application — carrying over every single feature, component, hook, utility, style, and configuration without omitting anything. The new project must be functionally and visually identical to the current one.",
      "reqIds": [
        "REQ-59"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Merge the 20 instrument sliders inside the 20-band EQ panel so they are visually and functionally integrated as a single combined equalizer/stabilizer control system",
      "reqIds": [
        "REQ-7",
        "REQ-8"
      ],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Redesign instrument controls: show instrument names/icons as a clean separate row below the EQ with clearly accessible turnup (gain) sliders, not cramped inside EQ columns",
      "reqIds": [
        "REQ-8",
        "REQ-12",
        "REQ-13"
      ],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Each EQ band slider is directly and exclusively linked to one instrument — turning up a band slider simultaneously boosts that instrument's audio contribution. Instrument names/icons displayed cleanly below the EQ, one per column, aligned to their EQ band.",
      "reqIds": [
        "REQ-7",
        "REQ-8",
        "REQ-18"
      ],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Reshape the EQ Stabilizer panel into 4 rows of 5 columns each (top and bottom), reducing the overall size so it fits better on screen without being too large",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Add Bluetooth speaker display on screen showing live power output (watts) and dB being sent to the speaker, with speaker cone animation that pulses/moves in sync with the music",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Build a 20 Smart Chips processor system with individual Control Monitors per chip (boost, effect, lagging, clipping, stuttering, zero background noise), Smart Chip Stabilizer (80,000–90,000 range) that corrects music instead of limiting it, automatic frequency control that adjusts to any song, and custom classes A+/B/C+/D (More Super Clean Sound Control)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Build a Sound Magnet (Stimulation Virtual Music Magnifier) — a virtual field that grows larger as volume increases, simulating filling the room with sound, especially for small speakers. On/off toggle switch.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "Fix low/unlimited memory issue so audio playback does not hit memory limits",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Set up payment system so users can be charged to access UltraSound Pro (to be implemented when app is closer to completion)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Fix the mobile layout so that the sound engine selector buttons (Deep Bass Engine, Surround Engine, Pure HD Engine) are displayed in a single horizontal row inside the header — not stacked vertically as shown in the live screenshot. All four engine buttons must fit horizontally on a mobile screen (≤480px wide) with appropriate font size reduction and compact padding so none are cut off.",
      "reqIds": [
        "REQ-29"
      ],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Fix the tab navigation bar (Player / BT Speakers / Processor) so all three tabs are fully visible and tappable on mobile screens without horizontal overflow or clipping. Each tab label and icon must be legible at small screen widths.",
      "reqIds": [
        "REQ-30"
      ],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Redesign the Player tab layout for mobile so that the File Picker section, playlist, player controls, battery widget, spectrum visualizer, Sound Magnet toggle, and EQ Stabilizer panel are all fully accessible by vertical scrolling — no content should be hidden off-screen or require horizontal scrolling on mobile. The overall page must be a single scrollable column on screens ≤768px.",
      "reqIds": [
        "REQ-31"
      ],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Fix the File Picker drag-and-drop zone and Browse button so they are fully functional on mobile (touch events supported). The drop zone must be large enough to tap easily (min 44px touch targets on all interactive elements). After selecting files, the playlist must appear immediately below the file picker with each track showing its name, duration, and format badge.",
      "reqIds": [
        "REQ-32"
      ],
      "status": "pending"
    },
    {
      "id": "AR-14",
      "summary": "Fix the audio playback so it works end-to-end on mobile browsers: when a track is selected from the playlist, the HTMLAudioElement src is set to the object URL, the AudioContext is resumed from suspended state (required by mobile browser autoplay policy via a user-gesture handler), the MediaElementSourceNode is connected to the filter chain, and play() is called. Add a visible error toast if playback fails, showing the error reason.",
      "reqIds": [
        "REQ-33"
      ],
      "status": "pending"
    },
    {
      "id": "AR-15",
      "summary": "Improve the BT Speakers tab on mobile: the Bluetooth Speaker Display panel must render the 2–3 animated speaker illustrations stacked vertically (not horizontally side-by-side) on screens ≤480px so each speaker is large enough to see the pulsing cone animation. The live output power (watts) and dB level readouts must be clearly readable below each speaker.",
      "reqIds": [
        "REQ-34"
      ],
      "status": "pending"
    },
    {
      "id": "AR-16",
      "summary": "Improve the Processor tab on mobile: the 20 Smart Chip cards must be arranged in a 2-column grid (not a single column or horizontal scroll) so all chips are reachable by vertical scrolling. Each chip card must show its chip number, and the 6 status indicators (Boost, Effect, Lagging, Clipping, Stuttering, Zero Background Noise) must be readable at mobile sizes. The processor class labels (Class A+ / B / C+ / D) and spec readouts must all fit within the mobile screen width.",
      "reqIds": [
        "REQ-35"
      ],
      "status": "pending"
    },
    {
      "id": "AR-17",
      "summary": "Ensure the EQ Stabilizer 4×5 grid fits within the mobile screen width without requiring horizontal scrolling. Each EQ band column card must scale responsively — on screens ≤480px, the 5-column grid should use the full available width with each column being at least 56px wide. The vertical EQ gain slider and frequency label inside each column must remain usable (min 44px touch target height for the slider track).",
      "reqIds": [
        "REQ-36"
      ],
      "status": "pending"
    },
    {
      "id": "AR-18",
      "summary": "Ensure the instrument cards row (below the EQ grid) also fits within mobile screen width in the 4×5 grid layout. Each instrument card must display the SVG instrument icon (max 40×40px on mobile), the instrument short name, and a gain slider with a min 44px touch target — all within a compact card that fits in a 5-column grid on mobile. Instrument name text must not overflow or be cut off.",
      "reqIds": [
        "REQ-37"
      ],
      "status": "pending"
    },
    {
      "id": "AR-19",
      "summary": "Add a global mobile-friendly spacing and typography pass: reduce all section padding on screens ≤480px to 8–12px, reduce heading font sizes by approximately 20% on mobile, and ensure all glassmorphism panel cards use consistent border-radius and spacing. The overall app must feel intentionally designed for mobile — not a desktop layout that happens to be viewed on a phone.",
      "reqIds": [
        "REQ-38"
      ],
      "status": "pending"
    },
    {
      "id": "AR-20",
      "summary": "Add High Top 9.0 processor class upgrade — Class A+/B+/C+/D+ self-fixing prototype system that automatically detects and corrects audio problems in real time",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-21",
      "summary": "Fix the file picker window and audio player so files load and play with 100% reliability — including streaming support for platforms popular with younger users (e.g. direct URL streaming)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-22",
      "summary": "Make the Play button and player controls fully functional: clicking the Play button on a selected track in the playlist must actually start audio playback through the HTMLAudioElement. The player must not remain in a 'NO TRACK SELECTED' / static state after a track is tapped in the playlist. Tapping a track row must immediately load it into the player (set the HTMLAudioElement src to the track's object URL), resume the AudioContext (required by mobile autoplay policy on every user gesture), connect the MediaElementSourceNode to the filter chain if not already connected, and call play(). The play button must visually switch to a Pause icon while audio is playing.",
      "reqIds": [
        "REQ-43"
      ],
      "status": "pending"
    },
    {
      "id": "AR-23",
      "summary": "Fix the file picker so that after files are added to the playlist, clicking/tapping any track row in the playlist immediately selects that track and triggers playback — not just displays it statically. The playlist track rows must be fully interactive tap targets (min 44px height). The currently playing track must be highlighted with a gold accent border or background.",
      "reqIds": [
        "REQ-44"
      ],
      "status": "pending"
    },
    {
      "id": "AR-24",
      "summary": "Fix the EQ Stabilizer sliders so they are fully interactive and not decorative. Each of the 20 vertical EQ gain sliders must respond to touch/drag input on mobile and immediately update the corresponding BiquadFilterNode gain value in the Web Audio API pipeline. The instrument gain sliders below each EQ column must also be interactive — dragging them must audibly affect the mix and visually move the slider thumb. No slider should appear to move only visually while having no audio effect.",
      "reqIds": [
        "REQ-45"
      ],
      "status": "pending"
    },
    {
      "id": "AR-25",
      "summary": "Fix the Sound Engine selector buttons (Crystal Engine, Deep Bass Engine, Surround Engine, Pure HD Engine) so tapping them actually switches the audio processing preset — not just visually highlights the button. When a different engine is selected, the 20 BiquadFilterNode gain values must be updated to the preset configuration in audioConstants.ts in real time.",
      "reqIds": [
        "REQ-46"
      ],
      "status": "pending"
    },
    {
      "id": "AR-26",
      "summary": "Fix the Smart Chip Array on the Processor tab so the chip status indicators (STANDBY / ACTIVE / FIXING / FIXED) respond to real audio data. When audio is playing, chips must transition from STANDBY to ACTIVE. When the AnalyserNode detects clipping or low-frequency buildup, the relevant chips must animate to FIXING and then FIXED. The processor tab must not display all chips as permanently stuck on STANDBY regardless of audio state.",
      "reqIds": [
        "REQ-47"
      ],
      "status": "pending"
    },
    {
      "id": "AR-27",
      "summary": "Fix the Spectrum Visualizer canvas so it draws live frequency bars in gold (#FFD700) when audio is playing. The canvas must not remain black or empty while music is playing. Ensure the AnalyserNode is correctly connected at the end of the audio filter chain and that the requestAnimationFrame draw loop reads real FFT data from the analyser.",
      "reqIds": [
        "REQ-48"
      ],
      "status": "pending"
    },
    {
      "id": "AR-28",
      "summary": "Fix the Bluetooth Speaker Display panel so the speaker cone animations pulse in sync with the music. The speaker SVG cone displacement or scale must be driven by the current audio amplitude from the AnalyserNode. The watts and dB readouts must update in real time — not show static placeholder values. The animated speaker must visibly move when music is playing and be still when paused.",
      "reqIds": [
        "REQ-49"
      ],
      "status": "pending"
    },
    {
      "id": "AR-29",
      "summary": "Fix the Sound Magnet toggle so that when switched ON, the concentric ring animation actually animates and grows with the audio amplitude. The canvas rings must expand outward and pulse driven by real AnalyserNode data — not remain static. When toggled OFF, the animation must fully disappear.",
      "reqIds": [
        "REQ-50"
      ],
      "status": "pending"
    },
    {
      "id": "AR-30",
      "summary": "Fix the end-to-end audio playback pipeline so that tapping any track row in the playlist immediately loads and plays audio. The track row must set the HTMLAudioElement.src to the track's object URL, call audioContext.resume() (to satisfy mobile browser autoplay policy on every user-gesture event), connect the MediaElementSourceNode to the filter chain if not already connected, then call play(). The player display must switch from 'NO TRACK SELECTED' to the track title and the play button icon must change to Pause while audio is playing. Wrap play() in try/catch and display a visible error toast with the failure reason if it rejects.",
      "reqIds": [
        "REQ-51"
      ],
      "status": "pending"
    },
    {
      "id": "AR-31",
      "summary": "Fix the useAudioEngine hook so that the AnalyserNode is correctly positioned at the end of the filter chain (source → 20 BiquadFilterNodes → GainNode → AnalyserNode → destination) and that the AnalyserNode reference is exposed to all consumers (SpectrumVisualizer, SoundMagnet, BluetoothSpeakerDisplay, ProcessorPage). On every new track load, re-connect the MediaElementSourceNode to the chain head and confirm the AnalyserNode is live.",
      "reqIds": [
        "REQ-52"
      ],
      "status": "pending"
    },
    {
      "id": "AR-32",
      "summary": "Fix the Smart Chip status indicators in ProcessorPage so they respond to real audio data from the AnalyserNode. When audio is playing, chips must transition from STANDBY to ACTIVE. When the AnalyserNode detects clipping (signal amplitude ≥ 0 dBFS) or excessive low-frequency buildup, the relevant chips must animate through FIXING… then FIXED ✓. No chip should remain permanently on STANDBY when audio is actively playing.",
      "reqIds": [
        "REQ-53"
      ],
      "status": "pending"
    },
    {
      "id": "AR-33",
      "summary": "Fix all 20 EQ band vertical sliders and all 20 instrument gain sliders in EQStabilizer so they are fully interactive on both desktop and mobile (touch events). Dragging an EQ slider must immediately update the corresponding BiquadFilterNode gain value in the audio pipeline. Dragging an instrument gain slider must update both the instrument's gain contribution and its linked BiquadFilterNode gain. No slider should be visually movable while having no audio effect.",
      "reqIds": [
        "REQ-54"
      ],
      "status": "pending"
    },
    {
      "id": "AR-34",
      "summary": "Fix the Sound Engine selector buttons (Crystal Engine, Deep Bass Engine, Surround Engine, Pure HD Engine) so that tapping a button actually applies the corresponding preset's 20 BiquadFilterNode gain values from audioConstants.ts to the audio pipeline in real time — not just visually highlight the button.",
      "reqIds": [
        "REQ-55"
      ],
      "status": "pending"
    },
    {
      "id": "AR-35",
      "summary": "Fix the BluetoothSpeakerDisplay panel so the speaker cone animations pulse visibly in sync with the playing audio. Speaker cone scale/displacement must be driven by real-time amplitude from the AnalyserNode. The watts and dB readouts must update in real time from the analyser/gain node — not show static placeholder values. When audio is paused or stopped, speaker animations must be still.",
      "reqIds": [
        "REQ-56"
      ],
      "status": "pending"
    },
    {
      "id": "AR-36",
      "summary": "Fix the SoundMagnet canvas animation so that when the toggle is switched ON, the concentric glowing rings expand outward and pulse driven by real AnalyserNode amplitude data. The rings must visibly grow larger as audio volume increases and shrink when volume decreases. When toggled OFF, the animation canvas must be fully hidden.",
      "reqIds": [
        "REQ-57"
      ],
      "status": "pending"
    },
    {
      "id": "AR-37",
      "summary": "Fix the App.tsx wiring to ensure the shared AnalyserNode instance from useAudioEngine is passed as a prop (or via context) to every component that needs it: SpectrumVisualizer, SoundMagnet, BluetoothSpeakerDisplay, and ProcessorPage. Ensure useAudioPlayer and useAudioEngine share the same HTMLAudioElement instance so that playing a track in useAudioPlayer automatically routes audio through the engine's filter chain.",
      "reqIds": [
        "REQ-58"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "UltraSound Pro",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}